type 'a t = ('a, symbol`set) state`t

let unit = state`unit
let bind = state`bind
let map = state`map
let app = state`app

let modify = state`modify

module operators = struct
  let (>>=) = bind
end


let init f = f symbol`emp

let fresh f = map f (modify symbol`fresh)
let fresh_pretty n f = map f (modify (symbol`fresh_pretty n))